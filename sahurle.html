<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/x-icon" href="assets/favicon.svg">
	<title>SHL￤main</title>
	
	<!-- imports that we care about -->
	<link rel="stylesheet" type="text/css" href="pages/mouseglow.css">
	<link rel="stylesheet" type="text/css" href="pages/sahurlebg.css">
	<script src="pages/militarystrength.js"></script>
<style>
	/* oh my god the tabbing space is horrid, ill go fix it later */
	
	/* Main container with responsive layout */
	.container {
		display: flex;
		justify-content: space-between;
		width: 100%;
		max-width: 1400px;
		gap: 260px;
	}
	
	/* Left and right columns */
	.left, .right {
		flex: 1;
		display: flex;
		flex-direction: column;
		justify-content: center;
	}
	
	/* Responsive font sizes 
	@media (max-width: 768px) { /* im fixing this later 
	.container {
		flex-direction: column;
		align-items: center;
		gap: 30px;
	}
	.header-links, .subheader, .country-stats .heading {
		font-size: 10px;
	}
	.country-stats .entry {
		font-size: 12px;
	} */
	
	/* Header Links */
	.header-links {
		font-size: 14px;
		color: #2A3050;
		margin-bottom: 5px;
		position: absolute;
		top: 20px;
		left: 20px;
	}
	
	.header-links a {
		text-decoration: none;
		color: inherit;
		margin-right: 10px;
	}
	.header-links a:hover {
		text-decoration: underline;
	}
	
	/* Subheader text */
	.subheader {
		font-size: 12px;
		color: #2A3050;
		position: absolute;
		top: 40px;
		left: 20px;
	}
	
	.subheader a {
		text-decoration: none;
		color: inherit;
		margin-right: 10px;
	}
	.subheader a:hover {
		text-decoration: underline;
	}
	
	/* Title SVG with center alignment */
	.title-image {
		display: flex;
		justify-content: center;
		margin-bottom: 20px;
	}
	
	.title-image img {
		user-drag: none;
		-webkit-user-drag: none;
		-moz-user-select: none;
	}
	
	/* Centered Dynamic Description Text */
	.description {
		font-size: 14px;
		color: #40293F;
		text-align: center;
		line-height: 1.5;
		transition: opacity 1s ease-in-out;
		display: flex;
		justify-content: center;
	}
	
	/* Country Stats Table */
	.country-stats {
		font-family: 'DotGothic16', sans-serif;
		color: #1E233B;
		font-size: 20px;
		text-align: right;
		align-self: flex-end; /* Align to right edge */
	}
	.country-stats .heading {
		font-size: 12px;
		color: rgba(30, 35, 59, 0.7);
	}
	.country-stats .entry {
		font-size: 15px;
		margin: 3px 0;
		user-select: text;
		transition: 0.4s ease;
	}
	.country-stats .entry:hover {
		transform: translate(-2%);
	}
	.country-stats .entry:hover ~ .entry, .container:hover .entry:not(:hover) {
		opacity: 0.2;
	}	
	.country-stats .entry::selection {
		background: black;
		color: white;
	}

	.country-stats .entry .resonance {
    		background: linear-gradient(to right, #8b33ff, #ff54f9);
  		-webkit-background-clip: text;
  		-webkit-text-fill-color: transparent;
 	 	animation: moveGradient 5s linear infinite;
 	 	background-size: 200% 100%; /* Double the size for animation */
        	position: relative; /* Make it a positioning context for the tooltip */
        	cursor: pointer;
	}

    .country-stats .entry .resonance .tooltip {
		visibility: hidden;
		width: auto;
    		background-color: rgba(0, 0, 0, 0.7); /* Keep or choose a different color/opacity */
		text-align: center;
		border-radius: 6px;
		padding: 5px 10px;
		position: absolute;
		z-index: 1;
		bottom: 100%;
		left: 50%;
		transform: translateX(-50%);
		margin-bottom: 5px; /* Space between span and tooltip */
	}

    .country-stats .entry .resonance .tooltip {
		visibility: hidden;
		width: auto;
    		background-color: rgba(0, 0, 0, 0.7); /* Keep or choose a different color/opacity */
		text-align: center;
		border-radius: 6px;
		padding: 5px 10px;
		position: absolute;
		z-index: 1;
		bottom: 100%;
		left: 50%;
		transform: translateX(-50%);
		margin-bottom: 5px; /* Space between span and tooltip */
	}	

	.country-stats .entry .resonance .tooltip span {
		color: white !important;
	}

	.country-stats .entry .resonance:hover .tooltip {
		visibility: visible;
		color: white !important;
		font-size: 16px;
		font-weight: bold;
	}


	@keyframes moveGradient {
  		0% { background-position: 0% 0%; }
 	 	100% { background-position: -100% 0%; }
	}
</style>
</head>
<body>
    
<div class="container">
    <!-- Left Column -->
    <div class="left">
        <!-- Header Links at the top left corner -->
        <div class="header-links">
            <a href="sahurle">main</a>/ 
            <a href="dice">dice</a>/ 
            <a href="mapview">mapview</a>
        </div>
        <div class="subheader">
            inventum 1, year 476 | <a href="index">notactuallyed</a>
        </div>

        <div class="title-image">
            <img src="assets/SahurleTitle.svg" alt="Sahurle / Season 3.26 * Polariarch" height="60px">
        </div>
        <div class="description" id="descriptionText">
            "A longing for the past. Almost as if like your waiting for something to happen?"
        </div>
    </div>

    <!-- Right Column for Country Stats -->
    <div class="right">
        <div class="country-stats">
            <div class="heading">country: ms / population ／ army ／ motor ／ navy ／ air / x</div>
            <div class="entry">canary: — </div>
        </div>
    </div>
</div>

<script src="pages/mouseglow.js"></script>
<script>
fetch('sahurlecountries.json')
    .then(response => response.json())
    .then(data => {
        const headingDiv = document.querySelector('.country-stats');
        data.forEach(country => {
            const militaryStrength = calculateMilitaryStrength(country);
            const armySize = (country.population * country.recruitment) / 100; // Calculate army size for display

            // Apply resonance effect if present for display
            let resonanceMultiplier = 1;
            let resonanceDisplay = ""; // Initialize resonance display
            if (country.resonance) {
                resonanceMultiplier = country.resonance[1];
                resonanceDisplay = `1x <span class="resonance">+ ${resonanceMultiplier}x<span class="tooltip">${country.resonance[0]} (${resonanceMultiplier})</span></span>`; // Green colored part
            } else {
              resonanceDisplay = `1x`;
            }

            const motorDisplay = (country.motor * resonanceMultiplier).toFixed(0);
            const navyDisplay = (country.navy * resonanceMultiplier).toFixed(0);
            const airforceDisplay = (country.airforce * resonanceMultiplier).toFixed(0);

            const entryDiv = document.createElement('div');
            entryDiv.classList.add('entry');

            // Display multiplier and resonance separately
            entryDiv.innerHTML = `${country.country}: ${militaryStrength} / ${country.population} / ${armySize.toFixed(0)} / ${motorDisplay} / ${navyDisplay} / ${airforceDisplay} / ${resonanceDisplay}`;
            headingDiv.appendChild(entryDiv);
        });
    })
    .catch(error => console.error('Error fetching data:', error));
</script>

</body>
