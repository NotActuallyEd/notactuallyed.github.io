<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/x-icon" href="/assets/favicon.svg">
	<title>SHLwikiï¿¤main</title>
	
	<!-- imports that we care about -->
	<link rel="stylesheet" type="text/css" href="/pages/mouseglow.css">
</head>
<body>
  <div id="article-list"></div>
</body>
<script>
document.addEventListener('DOMContentLoaded', async function() {
    const seasonFolder = 'sahurlewiki/season3.26'; // Path to your season folder
    const articleListContainer = document.getElementById('article-list'); // Assuming you have an element with this ID

    if (!articleListContainer) {
        console.error("Error: Element with ID 'article-list' not found.");
        return;
    }

    try {
        const response = await fetch(seasonFolder);
        const text = await response.text();

        const parser = new DOMParser();
        const htmlDoc = parser.parseFromString(text, 'text/html');
        const links = htmlDoc.querySelectorAll('a');

        const articleList = document.createElement('ul');

        links.forEach(link => {
            const href = link.getAttribute('href');
            if (href && href.endsWith('.html')) {
                const listItem = document.createElement('li');
                const articleLink = document.createElement('a');
                articleLink.href = `${seasonFolder}/${href}`;
                articleLink.textContent = href.replace('.html', ''); // Clean up filename
                listItem.appendChild(articleLink);
                articleList.appendChild(listItem);
            }
        });

        articleListContainer.appendChild(articleList);

    } catch (error) {
        console.error("Error fetching or processing directory:", error);
    }
});  
</script>
</html>
